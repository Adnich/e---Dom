<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.NovaPrijavaController"
            stylesheets="@../styles/nova-prijava-style.css"
            styleClass="scroll-pane"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED">

    <content>

        <!-- ✅ WRAPPER -->
        <StackPane styleClass="page-wrapper">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>

            <!-- ✅ CARD -->
            <VBox styleClass="card" spacing="18">

                <!-- ✅ HEADER -->
                <HBox alignment="CENTER_LEFT" spacing="16">
                    <VBox spacing="6">
                        <Label text="Nova prijava"
                               styleClass="page-title"/>

                        <Label text="Unesite podatke o prijavi i dodatne kriterije."
                               styleClass="page-subtitle"/>
                    </VBox>

                    <Region HBox.hgrow="ALWAYS"/>
                </HBox>

                <!-- ✅ PROGRESS + STEPPER -->
                <VBox spacing="10">
                    <ProgressBar progress="0.66"
                                 styleClass="progress-top"/>

                    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="stepper">

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="1" styleClass="step-dot"/>
                            <Label text="Osnovno" styleClass="step-label"/>
                        </HBox>

                        <Label text="—" styleClass="step-line"/>

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="2" styleClass="step-dot step-dot-active"/>
                            <Label text="Prijava" styleClass="step-label step-label-active"/>
                        </HBox>

                        <Label text="—" styleClass="step-line"/>

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="3" styleClass="step-dot"/>
                            <Label text="Pregled" styleClass="step-label"/>
                        </HBox>

                    </HBox>
                </VBox>

                <!-- ✅ SECTION PILL -->
                <Label text="Podaci o prijavi"
                       styleClass="section-pill"/>

                <Separator styleClass="soft-separator"/>

                <!-- ✅ FORM GRID: 2 kolone -->
                <GridPane hgap="22" vgap="16" styleClass="form-grid">

                    <columnConstraints>
                        <ColumnConstraints percentWidth="50" hgrow="ALWAYS"/>
                        <ColumnConstraints percentWidth="50" hgrow="ALWAYS"/>
                    </columnConstraints>

                    <!-- ✅ Akademska godina -->
                    <VBox spacing="6" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="Akademska godina" styleClass="field-label"/>
                        <TextField fx:id="txtAkGod" promptText="2024" styleClass="field"/>
                    </VBox>

                    <!-- ✅ Broj članova domaćinstva -->
                    <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="Broj članova domaćinstva" styleClass="field-label"/>
                        <TextField fx:id="txtClanovi" promptText="4" styleClass="field"/>
                    </VBox>

                    <!-- ✅ Udaljenost -->
                    <VBox spacing="6" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <Label text="Udaljenost do doma (km)" styleClass="field-label"/>
                        <TextField fx:id="txtUdaljenost" promptText="43" styleClass="field"/>
                    </VBox>

                    <!-- ✅ Prazno mjesto desno (možeš ubaciti kasnije nešto) -->
                    <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <Label text="Napomena (kratko)" styleClass="field-label"/>
                        <TextField promptText="Opcionalno..." styleClass="field"/>
                    </VBox>

                </GridPane>

                <!-- ✅ SECTION PILL -->
                <Label text="Dodatni kriteriji"
                       styleClass="section-pill"/>

                <Separator styleClass="soft-separator"/>

                <!-- ✅ CHECKBOXES -->
                <VBox spacing="10">
                    <CheckBox fx:id="chkIzbjeglica"
                              text="Izbjegli i raseljeni student (3 boda)"
                              styleClass="checkbox"/>

                    <CheckBox fx:id="chkBratSestra"
                              text="Brat/sestra studiraju (2 boda)"
                              styleClass="checkbox"/>
                </VBox>

                <!-- ✅ Branioci insert -->
                <VBox fx:id="vboxBranioci" spacing="10"/>

                <Separator styleClass="soft-separator"/>

                <!-- ✅ TextArea -->
                <VBox spacing="6">
                    <Label text="Napomena (detaljno)" styleClass="field-label"/>
                    <TextArea fx:id="txtNapomena"
                              prefHeight="90"
                              styleClass="area"/>
                </VBox>

                <!-- ✅ FOOTER BUTTONS -->
                <HBox alignment="CENTER" spacing="16" styleClass="footer-box">

                    <Button text="← Nazad"
                            onAction="#onBackClicked"
                            styleClass="btn-back"/>

                    <Button text="Dalje →"
                            onAction="#onSaveClicked"
                            styleClass="btn-next"/>
                </HBox>

            </VBox>
        </StackPane>

    </content>
</ScrollPane>
