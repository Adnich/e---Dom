<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.LoginController"
            stylesheets="@../styles/login-style.css"
            styleClass="root">

    <!-- LIJEVA STRANA – HERO PANEL -->
    <left>
        <VBox spacing="26"
              alignment="TOP_LEFT"
              styleClass="left-pane">

            <!-- LOGO -->
            <HBox alignment="CENTER_LEFT">
                <children>
                    <ImageView fitWidth="170"
                               preserveRatio="true"
                               styleClass="left-logo">
                        <image>
                            <Image url="@../images/e-domLOGO.png"/>
                        </image>
                    </ImageView>
                </children>
            </HBox>

            <!-- HERO TEXT -->
            <Label text="Upravljanje studentskim domom"
                   wrapText="true"
                   styleClass="app-title"/>

            <Label text="Sve što trebate za pregled prijava, studenata i soba na jednom mjestu."
                   wrapText="true"
                   styleClass="left-subtitle"/>

            <!-- BENEFITS LIST -->
            <VBox spacing="12" style="-fx-padding: 20 0 0 0;">
                <Label text="• Prijave i smještaj na jednom mjestu" styleClass="left-text"/>
                <Label text="• Pregled soba i kapaciteta" styleClass="left-text"/>
                <Label text="• Statistika i izvještaji" styleClass="left-text"/>
            </VBox>

            <!-- SPACER - OVO GURNE SLIKU NA DNO -->
            <Region VBox.vgrow="ALWAYS"/>

            <!-- ILUSTRACIJA NA DNU -->
            <HBox alignment="BOTTOM_LEFT" style="-fx-padding: 20 0 0 0;">
                <children>
                    
                </children>
            </HBox>

        </VBox>
    </left>

    <!-- DESNA STRANA – LOGIN -->
    <center>
        <StackPane styleClass="right-pane">
            <children>

                <!-- SOFT GLOW BACKGROUND (MINT) -->
                <Pane styleClass="glow-mint"
                      StackPane.alignment="CENTER"/>

                <!-- SOFT GLOW BACKGROUND (YELLOW ACCENT) -->
                <Pane styleClass="glow-yellow"
                      StackPane.alignment="CENTER"/>

                <!-- LOGIN CONTAINER -->
                <StackPane alignment="CENTER" styleClass="login-container">

                    <!-- LOGIN CARD -->
                    <VBox spacing="26"
                          alignment="TOP_LEFT"
                          maxWidth="430"
                          styleClass="login-card">

                        <!-- TITLE -->
                        <Label text="Prijava u E-Dom"
                               styleClass="login-title"/>

                        <!-- FORM -->
                        <VBox spacing="18" maxWidth="360">
                            <children>

                                <VBox spacing="6">
                                    <Label text="Korisničko ime"
                                           styleClass="field-label"/>
                                    <TextField fx:id="txtUsername"
                                               promptText="Unesite korisničko ime"
                                               styleClass="text-input"/>
                                </VBox>

                                <VBox spacing="6">
                                    <Label text="Lozinka"
                                           styleClass="field-label"/>

                                    <StackPane styleClass="password-wrapper">

                                        <PasswordField fx:id="txtPassword"
                                                       promptText="Unesite lozinku"
                                                       styleClass="text-input"/>

                                        <TextField fx:id="txtPasswordVisible"
                                                   promptText="Unesite lozinku"
                                                   styleClass="text-input"
                                                   visible="false"
                                                   managed="false"/>

                                        <Button fx:id="btnTogglePassword"
                                                onAction="#onTogglePasswordVisibility"
                                                styleClass="eye-btn"
                                                StackPane.alignment="CENTER_RIGHT">

                                            <graphic>
                                                <ImageView fx:id="imgEye"
                                                           fitWidth="22"
                                                           fitHeight="22"
                                                           preserveRatio="true"/>
                                            </graphic>
                                        </Button>

                                    </StackPane>
                                </VBox>

                                <!-- links + remember -->
                                <HBox alignment="CENTER_LEFT" spacing="12">
                                    <!-- FIX: checkbox sad koristi check-box stil -->
                                    <CheckBox text="Zapamti me" styleClass="check-box"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Hyperlink text="Zaboravili ste lozinku?"
                                               onAction="#onForgotPasswordClicked"
                                               styleClass="forgot-link"/>
                                </HBox>

                                <!-- LOGIN BUTTON -->
                                <Button fx:id="btnLogin"
                                        text="Prijava"
                                        onAction="#onLoginClicked"
                                        maxWidth="Infinity"
                                        styleClass="primary-btn"/>

                                <!-- ERROR -->
                                <Label fx:id="lblError"
                                       styleClass="error-label"/>

                                <!-- REGISTER -->
                                <HBox alignment="CENTER" spacing="8" style="-fx-padding: 10 0 0 0;">
                                    <Label text="Nemate nalog?"/>
                                    <Hyperlink fx:id="linkRegister"
                                               text="Registracija"
                                               onAction="#onRegisterLinkClicked"
                                               styleClass="register-link"/>
                                </HBox>

                            </children>
                        </VBox>

                    </VBox>
                </StackPane>

            </children>
        </StackPane>
    </center>

</BorderPane>
